const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminReports-aQIGwvFM.js","assets/index-BskjtQLY.js","assets/index-9iC_b_NU.css","assets/calendar-CBBTJmey.js","assets/users-togxAOmJ.js"])))=>i.map(i=>d[i]);
import{c as C,r as c,j as e,C as F,q as _,s as E,v as I,B as v,w as Y,S as L,V as B,X as O,Y as U,_ as V,K as w,M as S,N as b,Q as N,L as l,I as n,t as f,$}from"./index-BskjtQLY.js";import{B as j,C as H,L as R,b as J,m as Q}from"./mockData-C-LoWMfV.js";import{P as W}from"./plus-D5Tn5P0D.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],X=C("chart-column",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Z=C("square-pen",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],ae=C("user-cog",ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ie=C("user-plus",se);function le({doctors:k,onUpdate:D,onCreate:m}){const[p,h]=c.useState(!1),[x,u]=c.useState(null),[o,y]=c.useState(!1),r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],d=["9:00 AM","10:00 AM","11:00 AM","2:00 PM","3:00 PM","4:00 PM"],g={name:"",specialty:"",experience:"",email:"",phone:"",password:"",specialization:"",experienceYears:0,contactNumber:"",clinicAddress:"",qualifications:"",biography:"",available:!0,availableDays:[],timeSlots:[]},[s,i]=c.useState(g),z=()=>{y(!0),i(g),u(null),h(!0)},A=a=>{y(!1),u(a),i(a),h(!0)},M=async()=>{if(!s.name||!s.email||!s.specialization){f.error("Please fill in all required fields");return}if(o)try{const a=localStorage.getItem("authToken"),t=await fetch("http://localhost:8080/api/admin/create-doctor",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:s.name,email:s.email,password:s.password||"doctorPassword123",specialization:s.specialization,experienceYears:s.experienceYears||0,contactNumber:s.contactNumber,clinicAddress:s.clinicAddress,qualifications:s.qualifications,biography:s.biography})});if(!t.ok)throw new Error("Failed to create doctor");const q=await t.json();m({...s,id:q.userId||Math.random().toString()}),f.success("Doctor profile created successfully")}catch{f.error("Failed to create doctor profile");return}else x&&(D({...s,id:x.id}),f.success("Doctor profile updated successfully"));h(!1),i(g)},P=a=>{i({...s,availableDays:s.availableDays.includes(a)?s.availableDays.filter(t=>t!==a):[...s.availableDays,a]})},T=a=>{i({...s,timeSlots:s.timeSlots.includes(a)?s.timeSlots.filter(t=>t!==a):[...s.timeSlots,a]})};return e.jsxs(F,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Doctor Management"}),e.jsx(I,{children:"Create and edit doctor profiles"})]}),e.jsxs(v,{onClick:z,children:[e.jsx(W,{className:"size-4 mr-2"}),"Add Doctor"]})]})}),e.jsxs(Y,{children:[e.jsx("div",{className:"space-y-3",children:k.map(a=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{children:a.name}),e.jsx(j,{variant:a.available?"default":"secondary",children:a.available?"Available":"Unavailable"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Specialty:"})," ",a.specialty]}),e.jsxs("div",{children:[e.jsx("span",{children:"Experience:"})," ",a.experience," years"]}),e.jsxs("div",{children:[e.jsx("span",{children:"Email:"})," ",a.email]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.availableDays.slice(0,3).map(t=>e.jsx(j,{variant:"outline",children:t},t)),a.availableDays.length>3&&e.jsxs(j,{variant:"outline",children:["+",a.availableDays.length-3," more"]})]})]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>A(a),children:[e.jsx(Z,{className:"size-4 mr-2"}),"Edit"]})]})},a.id))}),e.jsx(L,{open:p,onOpenChange:h,children:e.jsxs(B,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(O,{children:[e.jsx(U,{children:o?"Create Doctor Profile":"Edit Doctor Profile"}),e.jsx(V,{children:o?"Add a new doctor to the system":"Update doctor information"})]}),e.jsxs(w,{defaultValue:"basic",className:"w-full",children:[e.jsxs(S,{className:"grid w-full grid-cols-2",children:[e.jsxs(b,{value:"basic",children:[e.jsx(ie,{className:"size-4 mr-2"}),"Basic Info"]}),e.jsxs(b,{value:"availability",children:[e.jsx(H,{className:"size-4 mr-2"}),"Availability"]})]}),e.jsx(N,{value:"basic",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name *"}),e.jsx(n,{id:"name",value:s.name,onChange:a=>i({...s,name:a.target.value}),placeholder:"Dr. John Smith"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"specialization",children:"Specialization *"}),e.jsx(n,{id:"specialization",value:s.specialization,onChange:a=>i({...s,specialization:a.target.value}),placeholder:"Cardiology"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"experienceYears",children:"Years of Experience"}),e.jsx(n,{id:"experienceYears",type:"number",value:s.experienceYears,onChange:a=>i({...s,experienceYears:parseInt(a.target.value)||0}),placeholder:"10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(n,{id:"email",type:"email",value:s.email,onChange:a=>i({...s,email:a.target.value}),placeholder:"doctor@hospital.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"contactNumber",children:"Contact Number"}),e.jsx(n,{id:"contactNumber",value:s.contactNumber,onChange:a=>i({...s,contactNumber:a.target.value}),placeholder:"+1234567890"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"clinicAddress",children:"Clinic Address"}),e.jsx(n,{id:"clinicAddress",value:s.clinicAddress,onChange:a=>i({...s,clinicAddress:a.target.value}),placeholder:"123 Medical Center"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"qualifications",children:"Qualifications"}),e.jsx(n,{id:"qualifications",value:s.qualifications,onChange:a=>i({...s,qualifications:a.target.value}),placeholder:"MD, FACC"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"biography",children:"Biography"}),e.jsx(n,{id:"biography",value:s.biography,onChange:a=>i({...s,biography:a.target.value}),placeholder:"Experienced cardiologist"})]}),o&&e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"password",value:s.password,onChange:a=>i({...s,password:a.target.value}),placeholder:"Leave empty for default password"})]})]})}),e.jsxs(N,{value:"availability",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Available Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(a=>e.jsx(j,{variant:s.availableDays.includes(a)?"default":"outline",className:"cursor-pointer",onClick:()=>P(a),children:a},a))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Time Slots"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(a=>e.jsx(j,{variant:s.timeSlots.includes(a)?"default":"outline",className:"cursor-pointer",onClick:()=>T(a),children:a},a))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(v,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(v,{onClick:M,children:o?"Create":"Save Changes"})]})]})})]})]})}const re=c.lazy(()=>$(()=>import("./AdminReports-aQIGwvFM.js"),__vite__mapDeps([0,1,2,3,4])));function oe({user:k,onLogout:D}){const[m,p]=c.useState([]),[h,x]=c.useState(!1);c.useEffect(()=>{u()},[]);const u=async()=>{x(!0);try{const r=localStorage.getItem("authToken"),d=await fetch("http://localhost:8080/api/admin/doctors",{headers:{Authorization:`Bearer ${r}`}});if(d.ok){const s=(await d.json()).map(i=>({id:i.id||i.userId,name:i.name,specialty:i.specialization,specialization:i.specialization,experience:i.experienceYears?.toString()||"0",experienceYears:i.experienceYears||0,email:i.email,phone:i.contactNumber,contactNumber:i.contactNumber,clinicAddress:i.clinicAddress,qualifications:i.qualifications,biography:i.biography,available:!0,availableDays:[],timeSlots:[]}));p(s)}}catch(r){console.error("Failed to fetch doctors:",r)}finally{x(!1)}},o=r=>{p(m.map(d=>d.id===r.id?r:d))},y=r=>{p([...m,{...r,id:Math.random().toString(36).substr(2,9)}]),u()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Portal"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",k.name]})]}),e.jsxs(v,{variant:"outline",onClick:D,children:[e.jsx(R,{className:"size-4 mr-2"}),"Logout"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(w,{defaultValue:"reports",className:"space-y-6",children:[e.jsxs(S,{children:[e.jsxs(b,{value:"reports",children:[e.jsx(X,{className:"size-4 mr-2"}),"Reports"]}),e.jsxs(b,{value:"doctors",children:[e.jsx(ae,{className:"size-4 mr-2"}),"Doctor Management"]})]}),e.jsx(N,{value:"reports",children:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading reports..."})]})}),children:e.jsx(re,{appointments:Q,doctors:m,patients:J})})}),e.jsx(N,{value:"doctors",children:e.jsx(le,{doctors:m,onUpdate:o,onCreate:y})})]})})]})}export{oe as default};
