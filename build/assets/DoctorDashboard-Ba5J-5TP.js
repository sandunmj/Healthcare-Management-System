import{c as T,j as e,p as ze,r as n,C as M,q as Z,s as G,v as K,B as m,w as F,L as l,I as x,t as p,S as Y,U as Pe,V as Q,X as W,Y as X,Z as Le,K as pe,M as je,N as k,Q as D}from"./index-BskjtQLY.js";import{B as fe,C as ee,m as Ee,L as Me}from"./mockData-C-LoWMfV.js";import{P as Fe}from"./plus-D5Tn5P0D.js";import{C as I}from"./calendar-CBBTJmey.js";import{U as Ie}from"./users-togxAOmJ.js";import{S as Oe,F as qe}from"./search-icFSQKe_.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ge=T("circle-check-big",He);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],$e=T("circle-user",Ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_e=T("history",Be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Je=T("pill",Ve);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ue=T("play",Re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qe=T("user",Ye);function ve({className:o,...u}){return e.jsx("textarea",{"data-slot":"textarea",className:ze("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...u})}function We({userId:o,userEmail:u}){const[h,v]=n.useState(!1),[y,d]=n.useState(!0),[i,f]=n.useState({name:"",email:"",specialty:"",experience:"",qualification:"",phone:"",bio:"",clinicAddress:"",availableDays:[],timeSlots:[]});n.useEffect(()=>{C()},[u]);const C=async()=>{try{const r=localStorage.getItem("authToken"),N=await fetch(`http://localhost:8080/api/doctor/query/${u}`,{headers:{Authorization:`Bearer ${r}`}});if(N.ok){const g=await N.json();f({name:g.name||"",email:g.email||"",specialty:g.specialization||"",experience:g.experienceYears?.toString()||"",qualification:g.qualifications||"",phone:g.contactNumber||"",bio:g.biography||"",clinicAddress:g.clinicAddress||"",availableDays:[],timeSlots:[]})}}catch(r){console.error("Failed to fetch doctor profile:",r)}finally{d(!1)}},S=async()=>{try{const r=localStorage.getItem("authToken");if((await fetch("http://localhost:8080/api/doctor/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({email:i.email,name:i.name,specialization:i.specialty,experienceYears:parseInt(i.experience)||0,contactNumber:i.phone,clinicAddress:i.clinicAddress,qualifications:i.qualification,biography:i.bio})})).ok)p.success("Profile updated successfully"),v(!1);else throw new Error("Update failed")}catch{p.error("Failed to update profile")}};return y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading profile..."})]})}):e.jsx("div",{className:"grid gap-6",children:e.jsxs(M,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Doctor Profile"}),e.jsx(K,{children:"Manage your professional information"})]}),h?e.jsxs("div",{className:"space-x-2",children:[e.jsx(m,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(m,{onClick:S,children:"Save Changes"})]}):e.jsx(m,{onClick:()=>v(!0),children:"Edit Profile"})]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name"}),e.jsx(x,{id:"name",value:i.name,onChange:r=>f({...i,name:r.target.value}),disabled:!h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(x,{id:"email",type:"email",value:i.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"specialty",children:"Specialty"}),e.jsx(x,{id:"specialty",value:i.specialty,onChange:r=>f({...i,specialty:r.target.value}),disabled:!h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"experience",children:"Years of Experience"}),e.jsx(x,{id:"experience",value:i.experience,onChange:r=>f({...i,experience:r.target.value}),disabled:!h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"qualification",children:"Qualifications"}),e.jsx(x,{id:"qualification",value:i.qualification,onChange:r=>f({...i,qualification:r.target.value}),disabled:!h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Contact Number"}),e.jsx(x,{id:"phone",value:i.phone,onChange:r=>f({...i,phone:r.target.value}),disabled:!h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"clinicAddress",children:"Clinic Address"}),e.jsx(x,{id:"clinicAddress",value:i.clinicAddress,onChange:r=>f({...i,clinicAddress:r.target.value}),disabled:!h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bio",children:"Biography"}),e.jsx(ve,{id:"bio",value:i.bio,onChange:r=>f({...i,bio:r.target.value}),disabled:!h,rows:4})]})]})]})})}function Xe({userId:o}){console.log("MySessions received userId:",o);const[u,h]=n.useState([]),[v,y]=n.useState(!1),[d,i]=n.useState({startDateTime:"",endDateTime:"",maxAppointments:10});n.useEffect(()=>{o&&f()},[o]);const f=async()=>{try{const t=localStorage.getItem("authToken"),c=await fetch("http://localhost:8081/api/sessions",{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const z=await c.json();h(z)}}catch(t){console.error("Failed to fetch sessions:",t)}},C=t=>{h(u.map(c=>c.id===t?{...c,status:"SCHEDULED"}:c)),p.success("Session started successfully")},S=t=>{h(u.map(c=>c.id===t?{...c,status:"CANCELLED"}:c)),p.success("Session cancelled")},r=t=>{h(u.map(c=>c.id===t?{...c,status:"COMPLETED"}:c)),p.success("Session completed")},N=async()=>{if(!d.startDateTime||!d.endDateTime){p.error("Please fill in all required fields");return}if(!o){console.error("userId is missing:",o),p.error("Doctor ID not found. Please login again.");return}const t={doctorId:o,sessionStartTime:d.startDateTime,sessionEndTime:d.endDateTime,maxAppointmentCount:d.maxAppointments};console.log("Creating session with payload:",t);try{const c=localStorage.getItem("authToken");if(!(await fetch("http://localhost:8081/api/sessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(t)})).ok)throw new Error("Failed to create session");await f(),i({startDateTime:"",endDateTime:"",maxAppointments:10}),y(!1),p.success("Session created successfully")}catch{p.error("Failed to create session. Please try again.")}},g=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=t=>new Date(`2000-01-01T${t}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),O=t=>{switch(t){case"SCHEDULED":return"default";case"CANCELLED":return"destructive";case"COMPLETED":return"secondary";default:return"outline"}},A=t=>{switch(t.status){case"SCHEDULED":return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{size:"sm",onClick:()=>C(t.id),children:[e.jsx(ue,{className:"size-4 mr-1"}),"Start Session"]}),e.jsxs(m,{size:"sm",onClick:()=>r(t.id),children:[e.jsx(ge,{className:"size-4 mr-1"}),"Complete"]}),e.jsxs(m,{size:"sm",variant:"destructive",onClick:()=>S(t.id),children:[e.jsx(Le,{className:"size-4 mr-1"}),"Cancel"]})]});case"CANCELLED":return e.jsxs(m,{size:"sm",onClick:()=>C(t.id),children:[e.jsx(ue,{className:"size-4 mr-1"}),"Reschedule"]});case"COMPLETED":return e.jsx("span",{className:"text-muted-foreground",children:"Session completed"});default:return null}};return e.jsxs(M,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(G,{children:"My Sessions"}),e.jsx(K,{children:"Manage your scheduled sessions"})]}),e.jsxs(Y,{open:v,onOpenChange:y,children:[e.jsx(Pe,{asChild:!0,children:e.jsxs(m,{children:[e.jsx(Fe,{className:"size-4 mr-2"}),"New Session"]})}),e.jsxs(Q,{children:[e.jsx(W,{children:e.jsx(X,{children:"Create New Session"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"startDateTime",children:"Start Date & Time"}),e.jsx(x,{id:"startDateTime",type:"datetime-local",value:d.startDateTime,onChange:t=>i({...d,startDateTime:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"endDateTime",children:"End Date & Time"}),e.jsx(x,{id:"endDateTime",type:"datetime-local",value:d.endDateTime,onChange:t=>i({...d,endDateTime:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"maxAppointments",children:"Maximum Appointments"}),e.jsx(x,{id:"maxAppointments",type:"number",min:"1",value:d.maxAppointments,onChange:t=>i({...d,maxAppointments:parseInt(t.target.value)||10})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(m,{onClick:N,children:"Create Session"})]})]})]})]})]})}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-4",children:[u.map(t=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(fe,{variant:O(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-4 text-muted-foreground"}),e.jsxs("span",{children:["Date: ",g(t.date)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"size-4 text-muted-foreground"}),e.jsxs("span",{children:["Time: ",w(t.startTime)," - ",w(t.endTime)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"size-4 text-muted-foreground"}),e.jsxs("span",{children:["Appointments: ",t.bookedCount,"/",t.capacity]})]})]})]}),e.jsx("div",{className:"ml-4",children:A(t)})]})},t.id)),u.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No sessions found. Create your first session to get started."})]})})]})}function Ze({onUpdate:o}){const[u,h]=n.useState([]),[v,y]=n.useState(!0);n.useEffect(()=>{d()},[]);const d=async()=>{try{const s=localStorage.getItem("authToken"),a=await fetch("http://localhost:8081/api/appointments",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(a.ok){const b=(await a.json()).map(R=>{const xe=new Date(R.bookedAt);return{...R,date:xe.toLocaleDateString(),time:xe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),status:R.status.toLowerCase()}});h(b)}}catch(s){console.error("Failed to fetch appointments:",s)}finally{y(!1)}},[i,f]=n.useState(""),[C,S]=n.useState(!1),[r,N]=n.useState(""),[g,w]=n.useState([]),[O,A]=n.useState(!1),[t,c]=n.useState(!1),[z,ye]=n.useState(""),[q,se]=n.useState(""),[P,H]=n.useState([]),[te,L]=n.useState(""),[ae,U]=n.useState(""),[$,B]=n.useState(""),[_,ie]=n.useState(""),[ne,re]=n.useState(""),[ce,le]=n.useState(""),[Ne,E]=n.useState(!1),oe=["Paracetamol","Ibuprofen","Amoxicillin","Lisinopril","Metformin","Aspirin","Omeprazole","Simvastatin","Amlodipine","Cetirizine","Azithromycin","Ciprofloxacin","Doxycycline","Prednisone","Warfarin"].filter(s=>s.toLowerCase().includes(te.toLowerCase())),be=async s=>{A(!0);try{const a=localStorage.getItem("authToken"),j=await fetch(`http://localhost:8081/api/prescriptions/patient/${s}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(j.ok){const b=await j.json();w(b)}else w([])}catch(a){console.error("Failed to fetch patient history:",a),w([])}finally{A(!1)}},Ce=(s,a)=>{N(a),S(!0),be(a)},Se=s=>{ye(s),se(""),H([]),L(""),U(""),B(""),c(!0)},we=()=>{if(!ae||!$.trim()||!_.trim()){p.error("Please fill in medication, dosage, and frequency");return}H(s=>[...s,{name:ae,dosage:$,frequency:_,duration:ne||"30 days",instructions:ce||"Take as directed"}]),U(""),B(""),ie(""),re(""),le(""),L(""),E(!1)},ke=s=>{H(a=>a.filter((j,b)=>b!==s))},De=s=>{U(s),L(s),E(!1)},Te=async()=>{if(!q.trim()){p.error("Please add notes");return}if(P.length===0){p.error("Please add at least one medication");return}try{const s=localStorage.getItem("authToken");if((await fetch("http://localhost:8081/api/prescriptions",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({appointmentId:z,notes:q,medications:P})})).ok)p.success("Prescription saved successfully"),c(!1);else throw new Error("Failed to save prescription")}catch{p.error("Failed to save prescription")}},Ae=s=>{const a=u.find(j=>j.id===s);a&&o&&(o({...a,status:"completed"}),p.success("Appointment marked as completed"))},V=u.filter(s=>s.id.toLowerCase().includes(i.toLowerCase())||s.patientName.toLowerCase().includes(i.toLowerCase())),de=V.filter(s=>s.status==="booked"||s.status==="started"),me=V.filter(s=>s.status==="completed"),he=V.filter(s=>s.status==="cancelled"),J=s=>s.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(I,{className:"size-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No appointments"})]}):e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"size-4"}),e.jsx("h4",{children:a.patientName||"Patient"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",a.id]})]}),a.specialty&&e.jsx("p",{className:"text-muted-foreground",children:a.specialty})]}),e.jsx(fe,{variant:a.status==="confirmed"?"default":a.status==="completed"?"secondary":"destructive",children:a.status})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"flex gap-4 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-4"}),e.jsx("span",{children:a.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"size-4"}),e.jsx("span",{children:a.time})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{size:"sm",variant:"outline",onClick:()=>Ce(a.patientName||"Patient",a.patientId),children:[e.jsx(_e,{className:"size-4 mr-1"}),"View Patient History"]}),e.jsxs(m,{size:"sm",onClick:()=>Se(a.id),children:[e.jsx(Je,{className:"size-4 mr-1"}),"Prescribe"]}),a.status==="confirmed"&&e.jsxs(m,{size:"sm",variant:"secondary",onClick:()=>Ae(a.id),children:[e.jsx(ge,{className:"size-4 mr-1"}),"Complete"]})]})]})]},a.id))});return v?e.jsx(M,{children:e.jsx(F,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading appointments..."})]})})}):e.jsxs(M,{children:[e.jsxs(Z,{children:[e.jsx(G,{children:"My Appointments"}),e.jsx(K,{children:"View and manage patient appointments"})]}),e.jsxs(F,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),e.jsx(x,{placeholder:"Search by appointment number or patient name...",value:i,onChange:s=>f(s.target.value),className:"pl-10"})]})}),e.jsxs(pe,{defaultValue:"upcoming",children:[e.jsxs(je,{className:"grid w-full grid-cols-3",children:[e.jsxs(k,{value:"upcoming",children:["Upcoming (",de.length,")"]}),e.jsxs(k,{value:"completed",children:["Completed (",me.length,")"]}),e.jsxs(k,{value:"cancelled",children:["Cancelled (",he.length,")"]})]}),e.jsx(D,{value:"upcoming",className:"mt-4",children:J(de)}),e.jsx(D,{value:"completed",className:"mt-4",children:J(me)}),e.jsx(D,{value:"cancelled",className:"mt-4",children:J(he)})]}),e.jsx(Y,{open:C,onOpenChange:S,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(X,{children:"Patient History"})}),O?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading patient history..."})]}):g.length>0?e.jsx("div",{className:"border rounded-lg",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Date & Time"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Notes"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Medicine"})]})}),e.jsx("tbody",{children:g.map(s=>{let a=[];try{a=JSON.parse(s.medications)}catch{a=[]}return e.jsxs("tr",{className:"border-b last:border-b-0",children:[e.jsx("td",{className:"p-4 align-top",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("div",{className:"text-muted-foreground",children:new Date(s.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})}),e.jsx("td",{className:"p-4 align-top",children:e.jsx("p",{className:"text-sm",children:s.notes})}),e.jsx("td",{className:"p-4 align-top",children:e.jsx("div",{className:"space-y-2",children:a.map((j,b)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[j.name," - ",j.dosage]}),e.jsxs("div",{className:"text-muted-foreground",children:[j.frequency," for ",j.duration]}),j.instructions&&e.jsx("div",{className:"text-muted-foreground text-xs",children:j.instructions})]},b))})})]},s.id)})})]})}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(qe,{className:"size-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No patient history available"})]})]})}),e.jsx(Y,{open:t,onOpenChange:c,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(X,{children:"Add Prescription"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",children:"Notes"}),e.jsx(ve,{id:"notes",placeholder:"Enter consultation notes and instructions...",value:q,onChange:s=>se(s.target.value),rows:4})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Add Medications"}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Medication *"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{placeholder:"Search medication...",value:te,onChange:s=>{L(s.target.value),E(!0)},onFocus:()=>E(!0)}),Ne&&oe.length>0&&e.jsx("div",{className:"absolute z-10 w-full bg-white border rounded-md shadow-lg max-h-40 overflow-y-auto mt-1",children:oe.map(s=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>De(s),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Dosage *"}),e.jsx(x,{placeholder:"e.g., 10mg, 500mg",value:$,onChange:s=>B(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Frequency *"}),e.jsx(x,{placeholder:"e.g., Once daily, Twice daily",value:_,onChange:s=>ie(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Duration"}),e.jsx(x,{placeholder:"e.g., 30 days, 1 week",value:ne,onChange:s=>re(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Instructions"}),e.jsx(x,{placeholder:"e.g., Take with food, Take before meals",value:ce,onChange:s=>le(s.target.value)})]}),e.jsx(m,{onClick:we,className:"w-full",children:"Add Medication"}),P.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Prescribed Medications"}),P.map((s,a)=>e.jsx("div",{className:"p-3 bg-gray-50 rounded space-y-1",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.name," - ",s.dosage]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.frequency," for ",s.duration]}),s.instructions&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.instructions})]}),e.jsx(m,{size:"sm",variant:"destructive",onClick:()=>ke(a),children:"Remove"})]})},a))]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(m,{onClick:Te,children:"Save Prescription"})]})]})]})})]})]})}function ns({user:o,onLogout:u}){console.log("DoctorDashboard user:",o);const[h,v]=n.useState(Ee),y=d=>{v(h.map(i=>i.id===d.id?d:i))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Doctor Portal"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome, Dr. ",o.name]})]}),e.jsxs(m,{variant:"outline",onClick:u,children:[e.jsx(Me,{className:"size-4 mr-2"}),"Logout"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(pe,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(je,{children:[e.jsxs(k,{value:"profile",children:[e.jsx($e,{className:"size-4 mr-2"}),"My Profile"]}),e.jsxs(k,{value:"sessions",children:[e.jsx(ee,{className:"size-4 mr-2"}),"My Sessions"]}),e.jsxs(k,{value:"appointments",children:[e.jsx(I,{className:"size-4 mr-2"}),"Appointments"]})]}),e.jsx(D,{value:"profile",children:e.jsx(We,{userId:o.id,userEmail:o.email})}),e.jsx(D,{value:"sessions",children:e.jsx(Xe,{userId:o?.id})}),e.jsx(D,{value:"appointments",children:e.jsx(Ze,{onUpdate:y})})]})})]})}export{ns as default};
